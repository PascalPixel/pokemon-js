<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Pokémon Mini by Superpencil</title>
	
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	
	<!-- iOS Webapp -->
	<meta 	name="viewport" 
	content="width=device-width, initial-scale=1, user-scalable=no">
	<meta 	name="viewport"
	content="width=320.1">
	<meta 	name="apple-mobile-web-app-capable" 
	content="yes">
	<meta 	name="apple-mobile-web-app-status-bar-style" 
	content="black" />
	<!-- Basic -->
	<link 	rel="apple-touch-icon-precomposed"
	href="apple-touch-icon-precomposed.png">
	<!-- iPhone -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="57x57" 
	href="apple-touch-icon-57x57-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 320px)" 
	href="apple-touch-startup-image-320x460.png">
	<!-- iPhone (Retina) -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="114x114" 
	href="apple-touch-icon-144x144-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 320px) and (-webkit-device-pixel-ratio: 2)"
	href="apple-touch-startup-image-640x920.png">
	<!-- iPhone 5 -->
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" 
	href="apple-touch-startup-image-640x1096.png">
	<!-- iPad -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="72x72" href="apple-touch-icon-72x72-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: portrait)" 
	href="apple-touch-startup-image-768x1004.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: landscape)" 
	href="apple-touch-startup-image-748x1024.png">
	<!-- iPad (Retina) -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="144x144" 
	href="apple-touch-icon-144x144-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" 
	href="apple-touch-startup-image-1536x2008.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" 
	href="apple-touch-startup-image-1496x2048.png">
	<!-- iOS Webapp end -->
	
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.min.css"> 
	
	<style type='text/css'>
		* {
		    -khtml-user-select:none;
		    -moz-user-select:none;
		    -ms-user-select:none;
		    -webkit-touch-callout:none;
		    -webkit-user-select:none;
		    user-select:none;
		}
		@font-face {
		    font-family:pokemon;
		    src:url(font/Pokemon%20GB.ttf);
		}
		body {
		    background:#dde8c7;
		    font-family:pokemon, sans-serif;
		    margin:0;
		    padding:0;
		    text-shadow:2px 2px 0 rgba(0, 0, 0, 0.2);
		}
		.container-fluid {
		    margin:0 auto;
		    overflow:hidden;
		}
		.row-fluid {
		    width:auto;
		}
		.copyright {
		    font-size:8px;
		    text-shadow:none;
		    width:100%;
		}
		.me .pokemon-image {
		    left:1000px;
		    margin-bottom:10px;
		    margin-top:-50px;
		    position:relative;
		}
		.foe .pokemon-image {
		    position:relative;
		    right:1000px;
		}
		.me .stats {
		    background-image:url(img/ash_line.png);
		    background-position:center bottom;
		    background-repeat:no-repeat;
		    background-size:100%;
		    margin-bottom:5px;
		    padding-bottom:25px;
		}
		.foe .stats {
		    background-image:url(img/gary_line.png);
		    background-position:center bottom;
		    background-repeat:no-repeat;
		    background-size:100%;
		    margin-bottom:5px;
		    padding-bottom:10px;
		}
		.menu .button {
		    display:inline-block;
		    margin:6px 0 0;
		}
		.button:hover {
		    cursor:pointer;
		}
		.healthbar {
		    background-color:#00f800;
		    height:5px;
		    width:100%;
		}
		.healthbarcontainer {
		    border:3px solid rgba(0, 0, 0, 0.75);
		    border-radius:5px;
		    box-shadow:2px 2px 0 rgba(0, 0, 0, 0.3);
		    margin:0 15px 10px 50px;
		}
		.health {
		    float:right;
		    margin-right:15px;
		    margin-top:-5px;
		}
		img {
		    max-width:100%;
		}
		.span1, .span2, .span3, .span4, .span5, .span6, .span7, .span8, .span9, .span10, .span11, .span12 {
		    margin-top:10px;
		}
		.healthcount {
		    display:inline-block;
		}
		.menu {
		    background:#dde8c7;
		    display:none;
		    float:right;
		    margin:-35px -20px -20px 0;
		    max-width:150px;
		    padding-top: 10px;
		    padding-left: 20px;
		}
		.fight-menu, .item-menu, .pkmn-menu {
		    background:#dde8c7;
		    bottom:-15px;
		    display:none;
		    padding-top:5px;
		    position:absolute;
		    right:-20px;
		}
		.item-menu, .pkmn-menu {
			left: -15px;
			right: -15px;
			top: -220px;
			bottom:-15px;
		}
		.relative {
		    position:relative;
		}
		.messages {
		    display:block;
		    margin:0;
		    height:65px;
		}
		.hp {
		    margin-left:-30px;
		    position:absolute;
		    width:25px;
		}
		.frame {
		    -moz-border-image:url(img/border.png) 41 41 repeat;
		    -o-border-image:url(img/border.png) 41 41 repeat;
		    -webkit-border-image:url(img/border.png) 41 41 repeat;
		    border-image:url(img/border.png) 41 41 fill repeat;
		    border-style:solid;
		    border-width:15px;
		}
		.link {
		    background-color:rgba(255, 0, 0, 0.8);
		    border-radius:3px;
		    color:#dde8c7;
		    padding:4px 5px 2px;
		    text-shadow:none;
		}
		.big {
		    border-radius:5px;
		    padding:8px 10px 4px;
		}
		.battle {
		    display:none;
		}
		.loader {
		    display:block;
		    margin-top:-300px;
		    padding-top:80px;
		    text-align:center;
		}
	</style>
</head>
<body>
<div class="container-fluid loader">
	<div class="row-fluid">
		<div class="span2"></div>
		<div class="span8">
			<img src="img/superpencil.png"/><br><br>
			<a class="link big" href="http://www.superpencil.com">Super Pencil</a>
		</div>
		<div class="span2"></div>
	</div>
</div>
<div class="container-fluid battle">
	<div class="row-fluid foe">
		<div class="span7">
			<div class="gary_balls"><img src="img/gary_balls.png" /></div>
			<div class="stats">
				EEVEE
				    <div class="healthbarcontainer">
				    <img class="hp" src="img/hp.png" />
				    <div class="healthbar"></div>
			    </div>
			</div>
		</div>
		<div class="span5 pokemon-image">
			<div class="gary_black"><img src="img/gary_black.png" /></div>
			<div class="gary"><img src="img/gary.png" /></div>
			<div class="eevee"><img src="img/eevee.png" /></div>
		</div>
	</div>
	<div class="row-fluid me">
		<div class="span5 pokemon-image">
			<div class="ash_black"><img src="img/ash_black.png" /></div>
			<div class="ash"><img src="img/ash.png" /></div>
			<div class="pikachu"><img src="img/pikachu.png" /></div>
		</div>
		<div class="span7">
			<div class="ash_balls"><img src="img/ash_balls.png" /></div>
			<div class="stats">
				PIKACHU
			    <div class="healthbarcontainer">
				    <img class="hp" src="img/hp.png" />
				    <div class="healthbar"></div>
			    </div>
			    <div class="health"><div class="healthcount myHealth">19</div>/ 19</div>
			</div>
		</div>
	</div>
	<div class="row-fluid messages frame relative">
		<div class="span12">
		    <p class="text1"></p>
		    <p class="text2"></p>
			<div class="menu frame">
				<div class="button fight">FIGHT</div>
			    <div class="button pkmn"><sup>P</sup><sub>K</sub><sup>M</sup><sub>N</sub></div>
			    <div class="button item">ITEM</div>
			    <div class="button run">RUN</div>
			</div>
			<div class="fight-menu frame">
				<div class="button thundershock">THUNDERSHOCK</div>
			    <div class="button growl">GROWL</div>
			    <div class="button tackle">TACKLE</div>
			    <div class="button back">cancel</div>
			</div>
			<div class="item-menu frame">
				<div class="button potion">POTION x <div class="potionCount">1</div></div>
				<div class="button back" style="position:absolute;bottom:20px;">cancel</div>
			</div>
			<div class="pkmn-menu frame">
				<div class="button pikachuButton">PIKACHU</div>
				<div class="button back">cancel</div>
			</div>
		</div>
	</div>
	<div class="row-fluid copyright">
	<div class="span2"><img src="img/superpencil.png"/></div>
		<div class="span10">
	    Created by <a class="link" href="http://www.superpencil.com">Super Pencil</a><br>
	    Designer & developer for hire<br/><br/>
	    
	    <b>Disclaimer</b><br>
	    Pokémon & Pikachu are trademarks of The Pokémon Company & Nintendo Inc.<br/><br/>
	    <b>Why?</b><br>
	    I learned how to use JS and jQuery on <a href="http://www.codecademy.com">Codecademy</a> and decided the first thing I'd want to recreate was the first thing I ever played, Pokémon Yellow <3 <br><br>
	    
		<div id="stage">
			<div id="character"></div>
		</div>
	    
	    </div>
	</div>
</div>
<script type='text/javascript' src="js/hide-address-bar.js"></script>
<script type='text/javascript' src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type='text/javascript'>
$(document).ready(function () {

	/*---------- Setup --------------------------------------------------------------------*/
	
	//GAMEBOY® aspect ratio
    var aspectRatio = function () {
        var windowHeight = $(window).height();
        $('.container-fluid').css('max-width', windowHeight);
    };
    aspectRatio();
    $(window).resize(function () {
        aspectRatio();
    });

    //Battle music
    var music=document.createElement("audio");
	    music.setAttribute('src', "sfx/battle.mp3");
	    music.setAttribute('autoplay', 'true');
	    music.setAttribute('controls', 'false');
	    music.setAttribute('preload', 'auto');
	    music.setAttribute('style', 'display:none;');
	    document.body.appendChild(music);

     //HP
    var healthCountEevee = 23;
    var healthCountPikachu = 19;
    $(".foeHealth").text(healthCountEevee);
    $(".myHealth").text(healthCountPikachu);
    
    //Potioncount
    var potionCount = 1;
    $(".potionCount").text(potionCount);
  
    
	/*---------- Variables ----------------------------------------------------------------*/

    //Menu closer
    var reset = function() {
        $(".item-menu, .pkmn-menu, .fight-menu").css('display', 'none');
        $("p.text1").text(" ");
        $("p.text2").text(" ");
        $(".menu").css('display', 'block');
    }
    
    //Hide menus
    var hider = function() {
        $(".menu, .item-menu, .pkmn-menu, .fight-menu").css('display', 'none');
    }
    
	//End of attack and return attack
	var attackEnd = function() {
		if (healthCountEevee <= 8) {$(".foe .healthbar").css('background-color', 'red');}
		else if (healthCountEevee <= 8) {$(".foe .healthbar").css('background-color', 'red');}
		
		//Win
		else if (healthCountEevee < 1) {
		    $(".menu").css('display', 'none');
		    $(".foe .healthbar").css('width', '0%');
		    $(".foe .pokemon-image, .foe .stats").delay(500).animate({
		        bottom: "-500px"
		    }, 1000);
		    window.setTimeout(function () {
		        $("p.text1").text("EEVEE fainted!");
		        $("p.text2").text(" ");
		        window.setTimeout(function () {
		            $("p.text1").text("Got $5 for winning!");
		            $("p.text2").text("");
		            window.setTimeout(function () {
		                $("p.text1").text("GARY: I can't");
		                $("p.text2").text(" believe it!");
		                window.setTimeout(function () {
		                    $("p.text1").text("I chose the");
		                    $("p.text2").text("wrong POKéMON!");
		                }, 2000);
		            }, 2000);
		        }, 2000);
		    }, 2000);
		}
		
		//Return attack
	    else {
	        window.setTimeout(function () {
	            //Foe attack
	            var damage2 = Math.floor(Math.random() * 4 + 4);
	            healthCountPikachu -= damage2;
	            $("p.text1").text("Eevee did " + damage2);
	            $("p.text2").text("damage to you.");
	            $(".myHealth").text(healthCountPikachu);
	            $(".me .healthbar").animate({
	                width: healthCountPikachu * 3.5 + '%'
	            }, 500);
	            window.setTimeout(function () {
	                reset();
	            }, 2000);
	        }, 2000);
	    
		    //Health bar color change
		    if (healthCountPikachu <= 7) {
		        $(".me .healthbar").css('background-color', 'red');
		    }
		    
		    //Lose
		    else if (healthCountPikachu < 1) {
		        $(".menu").css('display', 'none');
		        $(".myHealth").text("0");
		        $(".me .healthbar").css('width', '0%');
		        $(".me .stats").css('display', 'none');
		        $(".me .pokemon-image").delay(500).animate({
		            bottom: "-500px"
		        }, 1000);
		        window.setTimeout(function () {
		            $("p.text1").text("Pikachu fainted...");
		            $("p.text2").text(" ");
		            window.setTimeout(function () {
		                $("p.text1").text("ASH is out of");
		                $("p.text2").text("useable POKéMON...");
		                window.setTimeout(function () {
		                    $("p.text1").text("ASH whited out!");
		                    $("p.text2").text(" ");
		                    window.setTimeout(function () {
			                    $(".foe, .me, .messages").slideUp(500);
			                }, 2000);
		                }, 2000);
		            }, 2000);
		        }, 2000);
		    }
	    }
	}
    
    //Thundershock
    var thundershock = function() {
    	hider();
		var damage1 = Math.floor(Math.random() * 4 + 3);
        healthCountEevee -= damage1;
        $("p.text1").text("You did " + damage1 + " damage!");
        $("p.text2").text(" ");
        $(".foe .healthbar").animate({
            width: healthCountEevee * 3.5 + '%'
        }, 500);
        attackEnd();
	}
	
	//Growl
	var growl = function() {
		hider();
        $("p.text1").text("PIKACHU used");
        $("p.text2").text("GROWL!");
        window.setTimeout(function () {
            $("p.text1").text("EEVEE's defence");
	        $("p.text2").text("dropped by 2!");
	        window.setTimeout(function () {
	            attackEnd();
	        }, 2000);
        }, 2000);
	}
	
	//Tackle
	var tackle = function() {
		hider();
		var damage1 = Math.floor(Math.random() * 3 + 2);
        healthCountEevee -= damage1;
        $("p.text1").text("You did " + damage1 + " damage!");
        $("p.text2").text(" ");
        $(".foe .healthbar").animate({
            width: healthCountEevee * 3.5 + '%'
        }, 500);
        attackEnd();
	}
	
	//potion use
	var potion = function() {
		hider();
        if (healthCountPikachu >= 19) {
            $("p.text1").text("HP already");
            $("p.text2").text("full!");
            window.setTimeout(function () {
                reset();
            }, 1000);
        } else {
            $("p.text1").text("Used POTION!");
            $("p.text2").text(" ");
            healthCountPikachu += 10;
            if (healthCountPikachu >= 19) {
                healthCountPikachu = 19;
            }
            $(".myHealth").text(healthCountPikachu);
            $(".me .healthbar").animate({
                width: healthCountPikachu * 5 + '%'
            }, 500);
            potionCount--;
            attackEnd();
        }
        $(".potionCount").text(potionCount);
        if (potionCount <= 0) {
            $(".potion").css('display', 'none');
        }
	}
	
	
	/*---------- Opening Animation ----------------------------------------------------------------*/
    
    window.setTimeout(function () {
	    $(".loader").animate({marginTop: "0px"}, 2000, 'linear');
	    window.setTimeout(function () {
	        $(".loader").css('display', 'none');
	        $(".battle").css('display', 'block');
	        //Opening animations trainers
	        $(".eevee, .pikachu, .gary, .ash, .stats, .ash_balls, .gary_balls").css('display', 'none');
	        $(".foe .pokemon-image").animate({
	            right: "0px"
	        }, 2000, 'linear');
	        $(".me .pokemon-image").animate({
	            left: "0px"
	        }, 2000, 'linear');
	        window.setTimeout(function () {
	            $(".gary, .ash, .ash_balls, .gary_balls").css('display', 'block');
	            $(".gary_black, .ash_black").css('display', 'none');
	            window.setTimeout(function () {
	                $("p.text1").text("GARY wants");
	                $("p.text2").text("to fight!");
	                window.setTimeout(function () {
	                    $(".ash_balls, .gary_balls").css('display', 'none');
	                    $(".foe .pokemon-image").animate({
	                        right: "-1000px"
	                    }, 700, 'linear');
	                    window.setTimeout(function () {
	                        $("p.text1").text("GARY sent");
	                        $("p.text2").text("out EEVEE!");
	                        $(".eevee").css('display', 'block');
	                        $(".gary").css('display', 'none');
	                        $(".foe .pokemon-image").animate({
	                            right: "0px"
	                        }, 1300, 'linear');
	                        window.setTimeout(function () {
	                            var eev=document.createElement("audio");
	                                eev.setAttribute('src', "sfx/eevee.mp3");
	                                eev.setAttribute('autoplay', 'true');
	                                eev.setAttribute('controls', 'false');
	                                eev.setAttribute('preload', 'auto');
	                                eev.setAttribute('style', 'display:none;');
	                                document.body.appendChild(eev);
	                            window.setTimeout(function () {
	                                $(".foe .stats").css('display', 'block');
	                                $(".me .pokemon-image").animate({
	                                    left: "-1000px"
	                                }, 700, 'linear');
	                                window.setTimeout(function () {
	                                    $(".ash").css('display', 'none');
	                                    $(".pikachu").css('display', 'block');
	                                    $(".foe .stats").css('display', 'block');
	                                    $(".me .pokemon-image").animate({
	                                        left: "0px"
	                                    }, 1300, 'linear');
	                                    $("p.text1").text("Go! PIKACHU!");
	                                    $("p.text2").text(" ");
	                                    $(".me .stats").css('display', 'block');
	                                    window.setTimeout(function () {
	                                        var pika=document.createElement("audio");
	                                            pika.setAttribute('src', "sfx/pikachu.mp3");
	                                            pika.setAttribute('autoplay', 'true');
	                                            pika.setAttribute('controls', 'false');
	                                            pika.setAttribute('preload', 'auto');
	                                            pika.setAttribute('style', 'display:none;');
	                                            document.body.appendChild(pika);
	                                        //Menu appears
	                                        window.setTimeout(function () {
	                                            reset();
	                                        }, 3000);
	                                    }, 500);
	                                }, 1500);
	                            }, 2000);
	                        }, 500);
	                    }, 1000);
	                }, 2000);
	            }, 400);
	        }, 2010);
	    }, 3000);
    }, 0);
	
	
	/*---------- Interactions ------------------------------------------------------------*/
	
	//Open item menu
    $('.item').click(function () {
        $(".item-menu").css('display', 'block');
    });
    
    //Potion
    $('.potion').click(function () {
        potion();
    });
    
	//Fight
    $('.fight').click(function () {
        $(".fight-menu").css('display', 'block');
    });
    
    //Thundershock
    $('.thundershock').click(function () {
        thundershock();
    });
    
    //Growl
    $('.growl').click(function () {
		growl();
	});
	
	//Tackle
    $('.tackle').click(function () {
        tackle();
    });
    
    //Back
    $('.back').click(function () {
    	reset();
    });
    
    //Pokemon
    $('.pkmn').click(function () {
        $(".pkmn-menu").css('display', 'block');
    });

    //Run
    $('.run').click(function () {
        hider();
        $("p.text1").text("You can't run from");
        $("p.text2").text("a POKéMON battle!");
        window.setTimeout(function () {
            reset();
        }, 2000);
    });
});
</script>
<!-- Google Analytics -->
<script>
    var _gaq=[['_setAccount','UA-9432622-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>