<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Pokémon Mini by Superpencil</title>
	
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	
	<!-- iOS Webapp -->
	<meta 	name="viewport" 
	content="width=device-width, initial-scale=1, user-scalable=no">
	<meta 	name="viewport"
	content="width=320.1">
	<meta 	name="apple-mobile-web-app-capable" 
	content="yes">
	<meta 	name="apple-mobile-web-app-status-bar-style" 
	content="black" />
	<!-- Basic -->
	<link 	rel="apple-touch-icon-precomposed"
	href="apple-touch-icon-precomposed.png">
	<!-- iPhone -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="57x57" 
	href="apple-touch-icon-57x57-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 320px)" 
	href="apple-touch-startup-image-320x460.png">
	<!-- iPhone (Retina) -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="114x114" 
	href="apple-touch-icon-144x144-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 320px) and (-webkit-device-pixel-ratio: 2)"
	href="apple-touch-startup-image-640x920.png">
	<!-- iPhone 5 -->
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" 
	href="apple-touch-startup-image-640x1096.png">
	<!-- iPad -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="72x72" href="apple-touch-icon-72x72-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: portrait)" 
	href="apple-touch-startup-image-768x1004.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: landscape)" 
	href="apple-touch-startup-image-748x1024.png">
	<!-- iPad (Retina) -->
	<link 	rel="apple-touch-icon-precomposed" 
	sizes="144x144" 
	href="apple-touch-icon-144x144-precomposed.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" 
	href="apple-touch-startup-image-1536x2008.png">
	<link 	rel="apple-touch-startup-image" 
	media="(device-width: 768px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" 
	href="apple-touch-startup-image-1496x2048.png">
	<!-- iOS Webapp end -->
	
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.min.css"> 
	
	<style type='text/css'>
		* {
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
		}
		@font-face {
		font-family: pokemon;
		src: url('font/Pokemon%20GB.ttf');
		}
		@font-face {
		font-family: pokemon-KT;
		src: url('font/Pokemon%20GB%20Japan%20KT.ttf');
		}
		body {
		font-family:pokemon, sans-serif;
		background: #dde8c7;
		margin:0;
		padding:0;
		text-shadow: 2px 2px 0px rgba(0,0,0,0.3);
		line-height: 150%;
		}
		.container-fluid {
		margin: 0 auto;
		}
		.row-fluid {
			width: auto;
		}
		.copyright {
		text-shadow: none;
		font-size: 8px;
		width: 100%;
		}
		.me .pokemon-image{
		position:relative;
		left:1000px;
		top: -10px;
		margin-bottom: -10px;
		}
		.foe .pokemon-image{
		position:relative;
		right:1000px;
		}
		.button {
		padding:5px 10px;
		display:inline-block;
		}
		.button:hover {
		cursor:pointer;
		}
		.healthbar {
		height:10px;
		width:100%;
		background-color:#00f800;
		}
		.healthbarcontainer {
		border: 5px solid rgba(0,0,0,0.75);
		box-shadow: 2px 2px 0px rgba(0,0,0,0.3);
		}
		img {
		max-width:100%;
		}
		.span1, .span2, .span3, .span4, .span5, .span6, .span7, .span8, .span9, .span10, .span11, .span12 {
		margin-top: 10px;
		}
		.healthcount {
		display: inline-block;
		}
		.menu {
		margin: -30px -20px -20px 0px;
		background: #dde8c7;
		padding: 5px;
		display: none;
		}
		.fight-menu, .item-menu, .pkmn-menu {
		position: absolute;
		right: -20px;
		background: #dde8c7;
		top: -30px;
		bottom: -20px;
		display: none;
		}
		.item-menu {
		
		}
		.pkmn-menu {
		
		}
		.foe, .me {
		overflow: hidden;
		}
		.relative {
		position: relative;
		}
		.messages {
		min-height: 70px;
		margin: 20px 0;
		display: block;
		}
		.frame {
		border-style: solid;
		border-width: 20px;
		-moz-border-image: url(img/border.png) 48 49 repeat;
		-webkit-border-image: url(img/border.png) 48 49 repeat;
		-o-border-image: url(img/border.png) 48 49 repeat;
		border-image: url(img/border.png) 48 49 fill repeat;
		}
	</style>
</head>
<body>
<div class="container-fluid">
	<div class="row-fluid foe">
		<div class="span6">
			<div class="gary_balls"><img src="img/gary_balls.png" /></div>
			<div class="stats">
				EEVEE
				<div class="health">HP <div class="healthcount foeHealth">23</div>/23</div>
			    <div class="healthbarcontainer">
				    <div class="healthbar"></div>
			    </div>
			</div>
		</div>
		<div class="span6 pokemon-image">
			<div class="gary_black"><img src="img/gary_black.png" /></div>
			<div class="gary"><img src="img/gary.png" /></div>
			<div class="eevee"><img src="img/eevee.png" /></div>
		</div>
	</div>
	<div class="row-fluid me">
		<div class="span6 pokemon-image">
			<div class="ash_black"><img src="img/ash_black.png" /></div>
			<div class="ash"><img src="img/ash.png" /></div>
			<div class="pikachu"><img src="img/pikachu.png" /></div>
		</div>
		<div class="span6">
			<div class="ash_balls"><img src="img/ash_balls.png" /></div>
			<div class="stats">
				PIKACHU
			    <div class="health">HP <div class="healthcount myHealth">19</div>/19</div>
			    <div class="healthbarcontainer">
				    <div class="healthbar"></div>
			    </div>
			</div>
		</div>
	</div>
	<div class="row-fluid messages frame">
		<div class="span6">
			<p>.</p>
		    <p class="text1"></p>
		    <p>.</p>
		    <p class="text2"></p>
		</div>
		<div class="span6 relative">
			<div class="menu frame">
				<div class="button fight">FIGHT</div>
			    <div class="button pkmn"><sup>P</sup><sub>K</sub><sup>M</sup><sub>N</sub></div>
			    <div class="button item">ITEM</div>
			    <div class="button run">RUN</div>
			</div>
			<div class="fight-menu frame">
				<div class="button thundershock">THUNDERSHOCK</div>
			    <div class="button growl">GROWL</div>
			    <div class="button tackle">TACKLE</div>
			    <div class="button back">cancel</div>
			</div>
			<div class="item-menu frame">
				<div class="button potion">POTION x <div class="potionCount">1</div></div>
				<div class="button back">cancel</div>
			</div>
			<div class="pkmn-menu frame">
				<div class="button pikachuButton">PIKACHU</div>
				<div class="button back">cancel</div>
			</div>
		</div>
	</div>
	<div class="row-fluid copyright">
		<div class="span6">
	    <b>Responsive Pokémon</b><br/>
	    Created by <a href="http://www.superpencil.com">Super Pencil</a><br/><br/>
	    Pokémon, Pikachu and Eevee are trademarks of The Pokémon Company & Nintendo Inc.</div>
	    <div class="span6">
	    <b>Why?</b><br/>
	    I learned how to use JS and jQuery on <a href="http://www.codecademy.com">Codecademy</a> and decided the first thing I'd want to recreate was the first thing I ever played, Pokémon Yellow <3
	    </div>
	</div>
</div>
<script type='text/javascript' src="js/hide-address-bar.js"></script>
<script type='text/javascript' src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type='text/javascript'>
$(document).ready(function(){

	//GAMEBOY® aspect ratio
	var aspectRatio = function(){
		var windowHeight = $(window).height();
		$('.container-fluid').css('max-width', windowHeight); 
	};
	aspectRatio();
	$(window).resize(function() {
	    aspectRatio(); 
	});
	
	//Battle music
	/*var music=document.createElement("audio");
	music.setAttribute('src', "sfx/battle.mp3");
	music.setAttribute('autoplay', 'true');
	music.setAttribute('controls', 'false');
	music.setAttribute('preload', 'auto');
	music.setAttribute('style', 'display:none;');
	document.body.appendChild(music);*/
	
	//Opening animations trainers
	$(".eevee, .pikachu, .gary, .ash, .stats, .ash_balls, .gary_balls").css('display', 'none');
	$(".foe .pokemon-image").animate({ right: "0px" }, 2000, 'linear');
	$(".me .pokemon-image").animate({ left: "0px" }, 2000, 'linear');
		
		window.setTimeout(function () {
			$(".gary, .ash, .ash_balls, .gary_balls").css('display', 'block');
			$(".gary_black, .ash_black").css('display', 'none');
			window.setTimeout(function () {
				$("p.text1").text("GARY wants");
				$("p.text2").text("to fight!");
				window.setTimeout(function () {
					$(".ash_balls, .gary_balls").css('display', 'none');
					$(".foe .pokemon-image").animate({ right: "-1000px" }, 700, 'linear');
					window.setTimeout(function () {
						$("p.text1").text("GARY sent");
						$("p.text2").text("out EEVEE!");
						$(".eevee").css('display', 'block');
						$(".gary").css('display', 'none');
						$(".foe .pokemon-image").animate({ right: "0px" }, 1300, 'linear');
						window.setTimeout(function () {
							/*var eev=document.createElement("audio");
							eev.setAttribute('src', "sfx/eevee.mp3");
							eev.setAttribute('autoplay', 'true');
							eev.setAttribute('controls', 'false');
							eev.setAttribute('preload', 'auto');
							eev.setAttribute('style', 'display:none;');
							document.body.appendChild(eev);*/
							window.setTimeout(function () {
								$(".foe .stats").css('display', 'block');
								$(".me .pokemon-image").animate({ left: "-1000px" }, 700, 'linear');
								$(".ash").css('display', 'none');
								$(".pikachu").css('display', 'block');
								window.setTimeout(function () {
									$(".foe .stats").css('display', 'block');
									$(".me .pokemon-image").animate({ left: "0px" }, 1300, 'linear');
									$("p.text1").text("Go! PIKACHU!");
									$("p.text2").text(" ");
									$(".me .stats").css('display', 'block');
									window.setTimeout(function () {
										/*var pika=document.createElement("audio");
										pika.setAttribute('src', "sfx/pikachu.mp3");
										pika.setAttribute('autoplay', 'true');
										pika.setAttribute('controls', 'false');
										pika.setAttribute('preload', 'auto');
										pika.setAttribute('style', 'display:none;');
										document.body.appendChild(pika);*/
										//Menu appears
											window.setTimeout(function () {
										    $("p.text1").text("What will");
											$("p.text2").text("you do?");
											$(".menu").css('display', 'block');
										}, 3000);
									}, 500);
								}, 1500);
							}, 2000);
						}, 500);
					}, 1000);
				}, 2000);
			}, 400);
		}, 2010);

	//Item menu
	var potionCount = 1;
	$(".potionCount").text(potionCount);
	$('.item').click(function () {
		$(".item-menu").css('display', 'block');
	});
	$('.potion').click(function () {
		$(".item-menu").css('display', 'none');
		console.log(healthCountPikachu);
		if (healthCountPikachu >= 19) {
			$("p.text1").text("HP already");
			$("p.text2").text("full!");
		} else if (healthCountPikachu > 10 && healthCountPikachu < 19) {
			$("p.text1").text("Used POTION!");
			$("p.text2").text(" ");
			healthCountPikachu += 10;
			$(".myHealth").text(healthCountPikachu);
			$(".me .healthbar").animate({ width: healthCountPikachu * 3 + '%'}, 500);
			potionCount--;
		} else {
			$("p.text1").text("Used POTION!");
			$("p.text2").text(" ");
			healthCountPikachu += 10;
			$(".myHealth").text(healthCountPikachu);
			$(".me .healthbar").animate({ width: healthCountPikachu * 3 + '%'}, 500);
			potionCount--;
		}
		$(".potionCount").text(potionCount);
		if (potionCount <= 0){
			$(".potion").css('display', 'none');
		}
	});
	
	//Menu closer
	$('.back').click(function () {
		$(".item-menu, .pkmn-menu, .fight-menu").css('display', 'none');
	});
	
	//Battle calculations
 	var healthCountEevee = 23;
    var healthCountPikachu = 19;
    $(".foeHealth").text(healthCountEevee);
    $(".myHealth").text(healthCountPikachu);

    $('.fight').click(function () {
		$(".fight-menu").css('display', 'block');
	});
	
	$('.thundershock, .tackle, .growl').click(function () {
		//Hide fight-menu
		$(".fight-menu").css('display', 'none');
		
        //Your attack
        var damage1 = Math.floor(Math.random() * 4 + 3);
        healthCountEevee -= damage1;
        $("p.text1").text("You did " + damage1 + " damage!");
        $(".foeHealth").text(healthCountEevee);
        $(".foe .healthbar").animate({ width: healthCountEevee * 3.5 + '%'}, 500);
        
        if (healthCountEevee <= 8) {
	        $(".foe .healthbar").css('background-color', 'red');
        }; 
        
        if (healthCountEevee < 1) {
	        $(".menu").css('display', 'none');
	        $(".foeHealth").text("0");
	        $(".foe .healthbar").css('width', '0%');
	        $(".foe .pokemon-image, .foe .stats").delay(500).animate({ bottom: "-500px" }, 1000);
	        window.setTimeout(function () {
			    $("p.text1").text("EEVEE fainted!");
			    $("p.text2").text(" ");
				window.setTimeout(function () {
				    $("p.text1").text("Got $5 for winning!");
				    $("p.text2").text("");
					window.setTimeout(function () {
					    $("p.text1").text("GARY: I can't believe it!");
					    $("p.text2").text("I chose the wrong Pokémon!");
					}, 2000);
				}, 2000);
			}, 2000);
        } else {
	        //Foe attack
	        var damage2 = Math.floor(Math.random() * 4 + 4);
	        healthCountPikachu -= damage2;
	        $("p.text2").text("Eevee did " + damage2 + " damage to you.");
	        $(".myHealth").text(healthCountPikachu);
	        $(".me .healthbar").animate({ width: healthCountPikachu * 3.5 + '%'}, 500);
	        
	        if (healthCountPikachu <= 7) {
	        	$(".me .healthbar").css('background-color', 'red');
	        }
	    };
	    
	    if (healthCountPikachu < 1) {
	        $(".menu").css('display', 'none');
	        $(".myHealth").text("0");
	        $(".me .healthbar").css('width', '0%');
	        $(".me .stats").css('display', 'none');
	        $(".me .pokemon-image").delay(500).animate({ bottom: "-500px" }, 1000);
	        window.setTimeout(function () {
			    $("p.text1").text("Pikachu fainted...");
			    $("p.text2").text(" ");
				window.setTimeout(function () {
				    $("p.text1").text("ASH is out of");
				    $("p.text2").text("useable POKéMON...");
					window.setTimeout(function () {
					    $("p.text1").text("ASH whited out!");
					    $("p.text2").text(" ");
					}, 2000);
				}, 2000);
			}, 2000);
        };
	    
    });

    $('.pkmn').click(function () {
	    $("p.text1").text("No other");
	    $("p.text2").text("POKéMON");
    });
    
    $('.run').click(function () {
	    $("p.text1").text("You can't run from");
	    $("p.text2").text("a POKéMON battle!");
    });
    
});
</script>
<!-- Google Analytics -->
<script>
    var _gaq=[['_setAccount','UA-9432622-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>